<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <title>데드락 방지 - Total Allocation의 트레이드오프</title>
  <!--
    title: 데드락 방지 - Total Allocation의 트레이드오프
    tags: os, deadlock, hold-and-wait, allocation, utilization
    updated: 2025-09-13
    summary: 실행 전에 모든 자원을 선할당하면 Hold and Wait은 차단되지만, 미사용 자원 점유로 시스템 자원 활용률이 저하된다.
  -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css" />
  <style>
    :root { --content-max: 920px; }
    main.container { max-width: var(--content-max); }
    h1, h2, h3 { text-wrap: balance; }
    p, li { text-wrap: pretty; }
    article, section { contain: content; }
    .tip { border-left: 3px solid var(--pico-primary); padding: .75rem 1rem; background: color-mix(in oklab, var(--pico-primary), transparent 92%); border-radius: .5rem; }
    table.resources { width: 100%; }
    table.resources th, table.resources td { white-space: nowrap; }
    table.resources td:first-child { white-space: normal; width: 40%; }
    @media (prefers-reduced-motion: reduce) { * { animation: none !important; transition: none !important; } }
  </style>
</head>
<body>
  <main class="container">
    <article>
      <h1>데드락 방지: <em>Total Allocation</em>의 한계</h1>
      <p>
        데드락은 프로세스들이 서로가 보유한 자원을 기다리며 무한 대기하는 상태입니다.
        <strong>Total Allocation</strong>은 <em>실행 시작 전에 필요한 모든 자원을 한 번에</em> 요청·할당하여
        <em>Hold and Wait</em> 조건을 제거합니다.
      </p>

      <h2>왜 자원 활용률이 낮아지나?</h2>
      <ul>
        <li>프로세스는 <em>모든 순간</em>에 <em>모든 자원</em>이 필요하지 않음(단계별로 필요 자원이 다름).</li>
        <li>그럼에도 선할당으로 <strong>나중에만</strong> 필요한 자원까지 <em>미리 점유</em>함.</li>
        <li>해당 자원은 오랫동안 <em>사용되지 않은 채</em> 다른 프로세스에게 제공되지 못함 → <strong>활용률 저하</strong>.</li>
      </ul>

      <details>
        <summary><strong>단계별 사용 예시(간단 표)</strong></summary>
        <div style="margin-top:.5rem">
          <table class="resources">
            <thead>
              <tr>
                <th>시간/단계</th>
                <th>R1</th>
                <th>R2</th>
                <th>R3</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>t0–t1 (초기화)</td>
                <td>사용</td>
                <td><em>미사용(점유)</em></td>
                <td><em>미사용(점유)</em></td>
              </tr>
              <tr>
                <td>t1–t2 (계산)</td>
                <td>사용</td>
                <td>사용</td>
                <td><em>미사용(점유)</em></td>
              </tr>
              <tr>
                <td>t2–t3 (출력)</td>
                <td><em>미사용(점유)</em></td>
                <td>사용</td>
                <td>사용</td>
              </tr>
            </tbody>
          </table>
          <p style="margin:.5rem 0 0; opacity:.9">
            괄호의 <em>점유</em>는 Total Allocation으로 인해 다른 프로세스가 쓰지 못하는 상태를 의미합니다.
          </p>
        </div>
      </details>

      <div class="tip" style="margin-top:1rem">
        <strong>트레이드오프:</strong> 데드락 위험은 낮추지만, <em>미사용 자원 점유</em>로 처리량·대기시간 측면에서 성능 저하를 유발.
      </div>

      <h2>핵심 요약</h2>
      <ul>
        <li>코어는 <strong>스레드</strong>를 실행한다(프로세스 병행=스위칭).</li>
        <li>Total Allocation은 <em>Hold and Wait</em> 제거.</li>
        <li>단, <strong>활용률 저하</strong>라는 비용이 발생한다.</li>
      </ul>
    </article>

    <footer style="margin-top:2rem">
      <small>자동 라이트/다크, Pico.css CDN, 무애니메이션 설정(접근성).</small>
    </footer>
  </main>
</body>
</html>
